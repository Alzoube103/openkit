---
description: Project-specific preferences and conventions
globs: ["**/*"]
alwaysApply: true
---

# Project Preferences

## Build & Package Management

- Use **pnpm** instead of npm for any JavaScript/TypeScript
- Use **Vitest** for all TypeScript/JavaScript testing
- No executable other than `main.rs` should be created
- Use **tsx** instead of ts-node to run TypeScript scripts

## Code Organization

- Do not create helper files unless explicitly instructed
- Do not create markdown summaries of tasks unless prompted
- Keep the single `main.rs` entry point; examples go in `examples/`

## API Design

- Prefer GraphQL API over REST for data operations
- REST should only be used for:
  - Health checks (`/api/health`)
  - Authentication flows (`/api/auth/*`)
  - WebAuthn/passkey operations (`/api/passkey/*`)

## File Structure

```
openkit/
├── src/
│   ├── lib.rs          # Library entry point
│   ├── main.rs         # Single executable entry point
│   ├── app.rs          # Application builder
│   ├── component.rs    # Component system
│   ├── macros.rs       # UI macros
│   ├── geometry.rs     # Geometric types
│   ├── event.rs        # Event types
│   ├── css/            # CSS engine
│   ├── widget/         # Widget implementations
│   ├── layout/         # Layout engine
│   ├── render/         # Rendering backends
│   ├── platform/       # Platform abstraction
│   └── theme/          # Theme system
├── examples/           # Example applications
├── tests/              # Integration tests
├── .cursor/rules/      # Cursor AI rules
└── Cargo.toml
```

## Naming Conventions

- Widgets: PascalCase (`Button`, `TextField`, `CheckBox`)
- CSS classes: kebab-case (`btn-primary`, `card-header`)
- Rust modules: snake_case (`style_context`, `event_loop`)
- CSS variables: `--kebab-case` (`--primary-color`, `--border-radius`)

## Documentation

- Use doc comments (`///`) for public API
- Add `# Examples` section with code samples
- Mark runtime-dependent examples with `rust,ignore`

## Git Practices

- Meaningful commit messages
- Reference GitHub issues when applicable
- Keep commits focused on single changes

## GitHub

- Patreon funding: `https://www.patreon.com/c/PegasusHeavyIndustries`
- Repository: `pegasusheavy/openkit`
